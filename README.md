12306 抢票脚本
一个基于 Python 和 Selenium 的 12306 自动抢票工具，支持定时抢票和自动下单功能。

🚀 功能特性
⏰ 精确定时抢票 - 支持微秒级时间同步
🔐 Cookie 登录 - 一次扫码，多次使用
🎯 智能车次筛选 - 自动过滤目标车次
⚡ 极速下单 - 优化操作流程，提高抢票成功率
🛡️ 反检测机制 - 使用 stealth 技术避免被识别为机器人
📋 使用前提
系统要求
Python 3.7+
Chrome 浏览器
ChromeDriver（自动管理）
必要文件
12306.json - 用户配置文件（必须提前配置）
city.json - 城市编码文件（用于查票功能）
⚙️ 安装步骤
1. 克隆项目
git clone https://github.com/whilefog233/12306_grab_tickets.git

2. 安装依赖
pip install
3. 配置文件设置
创建 12306.json 文件：

{
    "FP": "广州",
    "TP": "深圳", 
    "DATE": "2024-12-20"
}
FP: 出发城市
TP: 目的城市
DATE: 出发日期（格式：YYYY-MM-DD）
4. 获取城市编码文件
从 12306 官网获取 city.json 文件（用于查票功能）

🎮 使用方法
运行程序
python 12306抢票.py
功能选择
程序启动后会提示选择功能：

1 - 查票功能（查看车次信息）
2 - 购票功能（开始抢票）
3 - 退出程序
定时设置
在代码第 52 行修改抢票时间：

dingshi = '2025-09-20 11:44:52'  # 修改为您的目标时间
🔧 配置说明
浏览器驱动
程序使用 webdriver-manager 自动管理 ChromeDriver
无需手动下载和配置驱动
Cookie 管理
首次运行需要扫码登录
登录成功后生成 12306cookies.pkl 文件
后续运行自动使用保存的 Cookie
车次配置
在代码中修改目标车次：

target_train = "G8476"  # 修改为您要抢的车次
⚠️ 注意事项
时间设置：抢票时间最好提前 10 秒开始准备
网络环境：建议使用 5G 网络，延迟更低
登录状态：长时间未使用需要删除 12306cookies.pkl 重新登录
车次确认：提前确认目标车次的预订按钮 CSS 信息
退票政策：了解 12306 的退票规则和手续费
目前choice尚不能使用.
🐛 常见问题
Q: 程序报错 "No such file or directory: '12306.json'"
A: 请确保已创建并正确配置 12306.json 文件

Q: 扫码登录后程序卡住
A: 检查网络连接，或删除 12306cookies.pkl 重新登录

Q: 无法找到目标车次
A: 确认车次代码正确，检查出发日期是否有效

Q: 预订按钮点击无效
A: 可能需要更新页面元素选择器

📝 更新日志
v1.0
初始版本发布
支持基本抢票功能
Cookie 登录机制
定时抢票功能


⚠️ 免责声明
本项目仅用于学习和研究目的，请勿用于非法用途。使用本软件产生的任何问题，作者概不负责。

🆘 技术支持
如有问题请提交 Issue

温馨提示：抢票有风险，请合理使用。祝您购票顺利！
